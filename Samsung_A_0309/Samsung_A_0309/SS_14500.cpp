#include<iostream>
using namespace std;
int n, m, a[501][501],ans = 0;
int info[2][19][4] = {
	//0ÀÌ xÁÂÇ¥
	{
		{0,0,0,0},	//0
		{0,1,2,3},	//1
		{0,0,1,1},	//2
		{0,1,2,2},	//3
		{0,0,-1,-2},	//4
		{0,1,2,0},	//5
		{0,0,1,2},	//6
		{0,1,1,2},	//7
		{0,1,1,2},	//8
		{0,0,-1,-1},	//9
		{0,0,1,1},	//10
		{0,0,0,1},	//11
		{0,0,0,-1},	//12
		{0,1,2,1},	//13
		{0,1,2,1},	//14
		{0,0,0,-1},	//15
		{0,1,1,1},	//16
		{0,0,0,1},	//17
		{0,-1,-1,-1},	//18
	},
	// 1ÀÌ yÁÂÇ¥
	{
		{0,1,2,3},	//0
		{0,0,0,0},	//1
		{0,1,0,1},	//2
		{0,0,0,1},	//3
		{0,1,1,1},	//4
		{0,0,0,1},	//5
		{0,1,1,1},	//6
		{0,0,1,1},	//7
		{0,0,-1,-1},	//8
		{0,1,1,2},	//9
		{0,1,1,2},	//10
		{0,1,2,1},	//11
		{0,1,2,1},	//12
		{0,0,0,1},	//13
		{0,0,0,-1},	//14
		{0,1,2,2},	//15
		{0,0,1,2},	//16
		{0,1,2,2},	//17
		{0,0,1,2},	//18
	}
};

int main() {
	ios_base::sync_with_stdio(0); cin.tie(0);
	cin >> n >> m;
	for (int i = 0; i < n; i++) for (int j = 0; j < m; j++) cin >> a[i][j];
	
	for (int i = 0; i < n; i++) {
		for (int j = 0; j < m; j++) {
			for (int z = 0; z < 19; z++) {
				int sum = 0;
				for (int c = 0; c < 4; c++) {
					int x = i + info[0][z][c], y = j + info[1][z][c];
					if (x < 0 || y < 0 || x >= n || y >= m) break;
					sum += a[x][y];
				}
				if (ans < sum) ans = sum;
			}
		}
	}
	cout << ans;
}